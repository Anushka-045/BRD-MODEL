<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BRD Analytics - PS21</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="style.css">
<style>
/* ================= Base styles ================= */
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI;scroll-behavior:smooth;}
body{overflow-x:hidden;}
#particles{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;}

/* ================= Container & Layout ================= */
.container {
  display: flex;
  transition: all 0.4s ease;
  height: 100vh;
}
.sidebar {
  width: 260px;
  height: 100%;
  padding: 25px;
  background: rgba(30,41,59,0.95);
  backdrop-filter: blur(20px);
  flex-shrink: 0;
  transition: width 0.4s ease, padding 0.4s ease;
  overflow-y: auto;
}
.sidebar a{display:block;color:white;text-decoration:none;padding:12px 10px;margin:8px 0;border-radius:8px;transition:0.3s;}
.sidebar a:hover{background:rgba(255,255,255,0.1);}
.sidebar h2{margin-left:50px;}
.container.sidebar-hidden .sidebar{width:0;padding:0;overflow:hidden;}
.content {
  flex: 1;
  padding: 40px;
  transition: all 0.4s ease;
}
.hero{height:60vh;display:flex;flex-direction:column;justify-content:center;}
.hero h1{font-size:42px;background:linear-gradient(90deg,#6366f1,#22d3ee);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.hero p{margin-top:15px;max-width:700px;opacity:0.8;}

.card{background:rgba(255,255,255,0.08);backdrop-filter:blur(20px);padding:30px;border-radius:20px;margin-top:40px;box-shadow:0 8px 32px rgba(0,0,0,0.4);}
canvas{width:100% !important;height:300px !important;}

.menu-btn{position:fixed;top:20px;left:20px;background:#6366f1;border:none;color:white;padding:10px 14px;border-radius:10px;cursor:pointer;z-index:1100;font-size:15px;}
#welcome{position:fixed;top:20px;right:20px;font-size:18px;z-index:1100;text-align:right;}
.ai-popup{position:fixed;bottom:30px;right:30px;background:rgba(255,255,255,0.1);backdrop-filter:blur(20px);padding:20px;border-radius:20px;width:300px;display:none;}
.ai-button{position:fixed;bottom:30px;right:30px;background:#6366f1;border:none;padding:15px;border-radius:50%;color:white;cursor:pointer;}
footer{margin-top:80px;text-align:center;opacity:0.5;}
</style>
</head>
<body>

<canvas id="particles"></canvas>
<button class="menu-btn" onclick="toggleSidebar()">☰</button>
<div id="welcome">Welcome, User</div>

<div class="container" id="container">
  <div class="sidebar" id="sidebar">
    <h2>MENU</h2>
    <a href="dashboard.html">Dashboard</a>
    <a href="generator.html">BRD Generator</a>
    <a href="integrations.html">Integrations</a>
    <a href="analytics.html">Analytics</a>
    <a href="traceability.html">Traceability</a>
    <a href="settings.html">Settings</a>
    <a href="#" onclick="alert('Logged out')">Logout</a>
  </div>

  <div class="content" id="content">
    <div class="hero">
      <h1 id="typewriter"></h1>
      <p>Data-driven insights from user actions and AI-extracted requirements.</p>
    </div>

    <div class="card">
      <h2>Platform Contribution</h2>
      <canvas id="analyticsChart1"></canvas>
    </div>

    <div class="card">
      <h2>Requirement Category Breakdown</h2>
      <canvas id="analyticsChart2"></canvas>
    </div>

    <div class="card">
      <h2>AI Confidence Trend</h2>
      <canvas id="analyticsChart3"></canvas>
    </div>

    <footer>© 2026 BRD Intelligence Platform</footer>
  </div>
</div>

<button class="ai-button" onclick="toggleAI()">AI</button>
<div class="ai-popup" id="aiPopup">
  <h4>AI Assistant</h4>
  <p>Analyze trends, platform usage, and requirement categories.</p>
</div>

<script>
// ================= Sidebar toggle =================
function toggleSidebar(){
  document.getElementById("container").classList.toggle("sidebar-hidden");
}
function toggleAI(){
  let popup = document.getElementById("aiPopup");
  popup.style.display = popup.style.display==="block"?"none":"block";
}

// ================= Typewriter =================
let text="Advanced BRD Analytics Engine";
let i=0;
function typeWriter(){
  if(i<text.length){
    document.getElementById("typewriter").innerHTML+=text.charAt(i);
    i++; setTimeout(typeWriter,50);
  }
}
typeWriter();

// ================= Particles =================
const canvas=document.getElementById("particles");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth; canvas.height=window.innerHeight;
let particles=[];
for(let i=0;i<100;i++){particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2,d:Math.random()*1});}
function draw(){ctx.clearRect(0,0,canvas.width,canvas.height);ctx.fillStyle="rgba(99,102,241,0.5)";particles.forEach(p=>{ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();});update();}
function update(){particles.forEach(p=>{p.y+=p.d;if(p.y>canvas.height){p.y=0;}});}
setInterval(draw,33);

// ================= Charts =================
const ctx1 = document.getElementById("analyticsChart1").getContext("2d");
new Chart(ctx1,{
  type:"bar",
  data:{
    labels:["Gmail","Zoom","Calendar"],
    datasets:[{label:"Clicks",data:[10,15,8],backgroundColor:["#6366f1","#22d3ee","#4ade80"]}]
  },
  options:{responsive:true,maintainAspectRatio:true,aspectRatio:2,scales:{y:{beginAtZero:true}},plugins:{legend:{display:false},title:{display:true,text:"Platform Contribution",color:"#ffffff",font:{size:18}}}}
});

const ctx2 = document.getElementById("analyticsChart2").getContext("2d");
new Chart(ctx2,{
  type:"doughnut",
  data:{labels:["Functional","NonFunctional","Constraints","Assumptions"],datasets:[{data:[5,3,2,1],backgroundColor:["#6366f1","#22d3ee","#4ade80","#f87171"]}]},
  options:{responsive:true,maintainAspectRatio:true,aspectRatio:2,plugins:{legend:{position:'bottom'},title:{display:true,text:"Requirement Category Breakdown",color:"#ffffff",font:{size:18}}}}
});

const ctx3 = document.getElementById("analyticsChart3").getContext("2d");
new Chart(ctx3,{
  type:"line",
  data:{labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"Confidence %",data:[82,85,88,92],borderColor:"#22d3ee",fill:false,tension:0.4}]},
  options:{responsive:true,maintainAspectRatio:true,aspectRatio:2,scales:{y:{beginAtZero:true,max:100}},plugins:{title:{display:true,text:"AI Confidence Trend",color:"#ffffff",font:{size:18}}}}
});
</script>
<script src="theme.js"></script>
</body>
</html>