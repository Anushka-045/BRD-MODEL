<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Integrations - PS21</title>
<style>
* {margin:0; padding:0; box-sizing:border-box; font-family:Segoe UI;}
body {overflow-x:hidden; background:#0f172a; color:white; transition:0.3s;}
body.light {background:#f1f5f9; color:#0f172a;}
.container {display:flex; min-height:100vh; transition:all 0.4s ease;}

.sidebar {
  width:260px;
  background:rgba(30,41,59,0.95);
  backdrop-filter:blur(20px);
  padding:25px;
  flex-shrink:0;
  overflow-y:auto;
  transition:width 0.4s ease, padding 0.4s ease;
}
body.light .sidebar {background:rgba(241,245,249,0.95);}
.sidebar.hidden {width:0; padding:0; overflow:hidden;}
.sidebar h2 {text-align:center; margin-bottom:40px;}
.sidebar a {
  display:block; text-decoration:none; padding:12px 10px; margin:8px 0;
  border-radius:8px; color:white; transition:0.3s;
}
body.light .sidebar a {color:#0f172a;}
.sidebar a:hover {background:rgba(255,255,255,0.1);}
body.light .sidebar a:hover {background:rgba(0,0,0,0.05);}
.menu-btn {
  position:fixed; top:20px; left:20px; background:#6366f1; border:none;
  color:white; padding:10px 14px; border-radius:10px; cursor:pointer; z-index:1100; font-size:18px;
}
body.light .menu-btn {color:#0f172a;}
#welcome {position:fixed; top:20px; right:20px; color:white; font-size:18px; z-index:1100; text-align:right;}

.content {
  flex:1;
  padding:60px 40px;
  transition:all 0.4s ease;
}
.hero {
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(20px);
  padding:50px;
  border-radius:25px;
  margin-bottom:40px;
  box-shadow:0 15px 40px rgba(0,0,0,0.4);
}
.hero h1 {
  font-size:36px;
  background:linear-gradient(90deg,#6366f1,#22d3ee);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin-bottom:15px;
}
.hero p {opacity:0.8; line-height:1.6;}

.card {
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(20px);
  padding:30px;
  border-radius:20px;
  margin-bottom:30px;
  box-shadow:0 10px 30px rgba(0,0,0,0.4);
  transition:0.3s;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.card:hover {transform:translateY(-5px);}
.status {font-size:14px; opacity:0.7; margin-top:5px;}

button {
  padding:10px 20px; border:none; border-radius:25px;
  background:#22d3ee; color:black; cursor:pointer; font-weight:600; transition:0.3s;
}
button:hover {background:#06b6d4;}

footer {text-align:center; margin-top:60px; opacity:0.5;}
</style>
</head>

<body>

<button class="menu-btn">☰</button>
<div id="welcome"></div>

<div class="container">

  <div class="sidebar" id="sidebar">
    <h2>MENU</h2>
    <a href="dashboard.html">Dashboard</a>
    <a href="generator.html">BRD Generator</a>
    <a href="integrations.html">Integrations</a>
    <a href="analytics.html">Analytics</a>
    <a href="traceability.html">Traceability</a>
    <a href="settings.html">Settings</a>
    <a href="#" onclick="logout()">Logout</a>
  </div>
  <div class="content">
    <div class="hero">
      <h1>Communication Sources</h1>
      <p>Open your communication platforms in a new tab. Copy relevant project emails, meeting notes, or event details and paste them into the BRD Generator for AI structuring.</p>
    </div>
    <div class="card">
      <div>
        <h3 style="display:flex;align-items:center;gap:12px;">
          <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
            <path d="M2 6L12 13L22 6" stroke="#22d3ee" stroke-width="2" stroke-linecap="round"/>
            <rect x="2" y="6" width="20" height="12" rx="2" stroke="#22d3ee" stroke-width="2"/>
          </svg>
          Gmail
        </h3>
        <p class="status">Open your mailbox and copy project-related emails.</p>
      </div>
      <button id="gmail-btn">Open Gmail</button>
    </div>

    <div class="card">
      <div>
        <h3 style="display:flex;align-items:center;gap:12px;">
          <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
            <rect x="3" y="7" width="11" height="10" rx="2" stroke="#22d3ee" stroke-width="2"/>
            <polygon points="16,9 21,7 21,17 16,15" stroke="#22d3ee" stroke-width="2" fill="none"/>
          </svg>
          Zoom
        </h3>
        <p class="status">Access meeting summaries or transcripts.</p>
      </div>
      <button id="zoom-btn">Open Zoom</button>
    </div>

    <div class="card">
      <div>
        <h3 style="display:flex;align-items:center;gap:12px;">
          <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
            <rect x="3" y="5" width="18" height="16" rx="2" stroke="#22d3ee" stroke-width="2"/>
            <line x1="3" y1="9" x2="21" y2="9" stroke="#22d3ee" stroke-width="2"/>
            <line x1="8" y1="3" x2="8" y2="7" stroke="#22d3ee" stroke-width="2"/>
            <line x1="16" y1="3" x2="16" y2="7" stroke="#22d3ee" stroke-width="2"/>
          </svg>
          Google Calendar
        </h3>
        <p class="status">Copy event descriptions, agendas, or timelines.</p>
      </div>
      <button id="calendar-btn">Open Calendar</button>
    </div>

    <footer>© 2026 PS21 BRD AI Platform</footer>
  </div>
</div>

<!-- Firebase & Platform JS -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";
import { getFirestore, doc, getDoc, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyDxf6hJgWRplrxqMzCFEjSvVUw9w6QP6Xg",
  authDomain: "brd-model.firebaseapp.com",
  projectId: "brd-model",
  storageBucket: "brd-model.firebasestorage.app",
  messagingSenderId: "236852751504",
  appId: "1:236852751504:web:eb2db4a4d00ecd2b1bfc15",
  measurementId: "G-Y9ZJGB183B"
};
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

onAuthStateChanged(auth, async (user) => {
  if(!user) window.location.href="index.html";
  else{
    const userDoc = await getDoc(doc(db,"users",user.uid));
    if(userDoc.exists()){
      document.getElementById("welcome").innerHTML = `Welcome, ${userDoc.data().name}!`;
    }
  }
});
window.logout = async ()=>{await signOut(auth); window.location.href="index.html";}
async function logAction(platform){
  try{await addDoc(collection(db,"user_actions"),{uid:auth.currentUser.uid, platform, timestamp:new Date()});}
  catch(err){console.error(err);}
}
</script>

<script>
const menuBtn = document.querySelector(".menu-btn");
const sidebar = document.getElementById("sidebar");
menuBtn.onclick = function(){sidebar.classList.toggle("hidden");}
document.getElementById("gmail-btn").onclick = ()=>{window.open("https://mail.google.com","_blank"); logAction("Gmail");}
document.getElementById("zoom-btn").onclick = ()=>{window.open("https://zoom.us/signin","_blank"); logAction("Zoom");}
document.getElementById("calendar-btn").onclick = ()=>{window.open("https://calendar.google.com","_blank"); logAction("Google Calendar");}
</script>
<script src="theme.js"></script>
</body>
</html>